<html>
<script type="text/javascript" src="ui.js"></script>
<script type="text/javascript" src="game.js"></script>
<script type="text/javascript" src="orchestrator.js"></script>
<script type="text/javascript">

window.onload = function(){
    let game = new Game();
    game.startRendering();
    let orc = new Orchestrator(game);
    setInterval(gameLoop, 50);

    function gameLoop(){
        // orc.run('manual', this.isJumping);
        orc.run('auto');
    }

    this.addEventListener('keydown', function(e){
		if (e.key === " "){
			isJumping = true;
		}
 	});
	this.addEventListener('keyup', function(e){
		if (e.key === " "){
			isJumping = false;
		}
		else if(e.key === "r"){
			let game = new Game();
		    game.startRendering();
		    orc = new Orchestrator(game);
		}
	});
}

</script>
<style>
#game{
	width: 1000px; 
	height: 600px;
	border: 1px solid red;
	display: flex;
	position: relative;
	overflow: hidden;
	justify-content: center;
}
#game > *{
	display: inline-block;
	align-self: flex-end;
	position: absolute;
}
#game > .message{
	align-self: center;
	text-align: center;
	font-size: 3em;
	font-family: 'Consolas';
}
#game > .score{
	align-self: flex-start;
	font-size: 2em;
	font-family: 'Consolas';
}
</style>
<div id="game">
</div>
</html>
